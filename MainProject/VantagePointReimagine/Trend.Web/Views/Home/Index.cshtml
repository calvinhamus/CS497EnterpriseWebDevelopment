@model Trend.Web.Models.MainVM
@{
    ViewBag.Title = "Trend";
}

<script>
    var options = {
        animation: true,
        ///Boolean - Whether grid lines are shown across the chart
        scaleShowGridLines: true,

        //String - Colour of the grid lines
        scaleGridLineColor: "rgba(0,0,0,.05)",

        //Number - Width of the grid lines
        scaleGridLineWidth: 1,

        //Boolean - Whether to show horizontal lines (except X axis)
        scaleShowHorizontalLines: true,

        //Boolean - Whether to show vertical lines (except Y axis)
        scaleShowVerticalLines: true,

        //Boolean - Whether the line is curved between points
        bezierCurve: true,

        //Number - Tension of the bezier curve between points
        bezierCurveTension: 0.4,

        //Boolean - Whether to show a dot for each point
        pointDot: true,

        //Number - Radius of each point dot in pixels
        pointDotRadius: 4,

        //Number - Pixel width of point dot stroke
        pointDotStrokeWidth: 1,

        //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
        pointHitDetectionRadius: 20,

        //Boolean - Whether to show a stroke for datasets
        datasetStroke: true,

        //Number - Pixel width of dataset stroke
        datasetStrokeWidth: 2,

        //Boolean - Whether to fill the dataset with a colour
        datasetFill: true,

        //String - A legend template
        legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"

    };

    var data = {
        labels: ["January", "February", "March", "April", "May", "June", "July"],
        datasets: [
            {
                label: "My First dataset",
                fillColor: "rgba(220,220,220,0.2)",
                strokeColor: "rgba(220,220,220,1)",
                pointColor: "rgba(220,220,220,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(220,220,220,1)",
                data: [65, 59, 80, 81, 56, 55, 40]
            },
            {
                label: "My Second dataset",
                fillColor: "rgba(151,187,205,0.2)",
                strokeColor: "rgba(151,187,205,1)",
                pointColor: "rgba(151,187,205,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(151,187,205,1)",
                data: [28, 48, 40, 19, 86, 27, 90]
            }
        ]
    };


</script>

<div class="row">
    <div class="col-sm-2">
        <!-- Left column -->
        <a href="#"><strong><i class="glyphicon glyphicon-wrench"></i> PLC's</strong></a>

        <hr>

        <ul class="nav nav-stacked">
            <li class="nav-header">
                @{ var i = 2; }
                @foreach (var item in Model.Plcs)
                {
                     var target = "menu" + i.ToString();
                    
                    <a href="#" data-toggle="collapse" data-target="#@target">@item.Name <i class="glyphicon glyphicon-chevron-down"></i></a>
                    <ul class="nav nav-stacked collapse in" id="@target">
                        @foreach (var point in item.T_DataPoint)
                        {
                            <li class="active"> <a href="#"><i class="glyphicon glyphicon-cog"></i> @point.Name 
                                
                                @*@Html.ActionLink("Add", "Add", new { id = point.Id }) 
                                @Html.ActionLink("Remove", "Remove", new { id = point.Id })*@</a></li>
                                <li>
                                    <div type="button" class="btn btn-success btn-xs mdi-content-add" id="@point.Id.ToString()"></div>
                                  
                                    <div type="button" class="btn btn-danger btn-xs mdi-content-remove" id="@point.Id.ToString()"> </div>
                                </li>
                               
                        }
                       
                    </ul>
                    i++;
                }
            </li>
             
        </ul>

        <hr>
        <a href="#"><strong><i class="glyphicon glyphicon-signal"></i> Saved Charts</strong></a>
        <ul class="nav nav-stacked">
            <li class="nav-header">
              
                @foreach (var item in Model.Charts)
                {
                   
                    <a href="#" data-toggle="collapse" data-target="#userMenu">@item.Name <i class="glyphicon glyphicon-chevron-down"></i></a>
                    @*<ul class="nav nav-stacked collapse in" id="userMenu">
                        @foreach (var point in item.T_DataPoint)
                        {
                            <li class="active">
                                <a href="#">
                                    <i class="glyphicon glyphicon-cog"></i> @point.Name
                                    @Html.ActionLink("Add", "Add", new { id = point.Id })
                                    @Html.ActionLink("Remove", "Remove", new { id = point.Id })
                                </a>
                            </li>
                        }

                    </ul>*@
                   
                }
            </li>

        </ul>

    </div>


    <div class="col-sm-10 ">
     

              <div class="container">
                  <div class="row">
                      <div class="col-md-6">
                          <div class="row">
                              <div class="col-md-12">
                                  <div class="form-control-wrapper">
                                      <div class="form-control-wrapper"><input type="text" id="date-start" class="form-control" data-dtp="dtp_XaHNb">
                                          <div class="floating-label">Start Date</div><span class="material-input"></span></div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-12">
                                  <div class="form-control-wrapper">
                                      <div class="form-control-wrapper"><input type="text" id="date-end" class="form-control" data-dtp="dtp_YpNtn">
                                          <div class="floating-label">End Date</div><span class="material-input"></span></div>
                                  </div>
                              </div>
                          </div>
                      </div>

                  </div>
                  <div class="togglebutton">
                      <label>
                          <input type="checkbox" checked="" id="liveMode"> Live Mode
                      </label>
                  </div>
                  @*<div class='col-md-4 navbar-btn'>*@
                  @*<div class="col-md-6">
        <div class="row">
            <div class="col-md-12">
                <div class="form-control-wrapper">
                    <div class="form-control-wrapper"><input type="text" id="date-start" class="form-control" data-dtp="dtp_XaHNb"><div class="floating-label">Start Date</div><span class="material-input"></span></div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="form-control-wrapper">
                    <div class="form-control-wrapper"><input type="text" id="date-end" class="form-control" data-dtp="dtp_YpNtn"><div class="floating-label">End Date</div><span class="material-input"></span></div>
                </div>
            </div>
        </div>
    </div>
                *@

    <div class='col-md-2 navbar-btn'>
        <div class="form-group">
            <div type="button" class="btn btn-success" id="getDataBtn">Get Data</div>
        </div>
    </div>
  @*  <div class='col-sm-2 navbar-btn'>

    <div class="form-group">
             <div type="button" class="btn btn-danger btn-xs" id="liveMode">Live Mode</div>
         </div>*@

                  <h1 class="page-header">Dashboard</h1>
                 
                  <div class="row placeholders">
                      <canvas id="myChart" width="800" height="400"></canvas>

                  </div>

                  <h2 class="sub-header">Section title</h2>
                  <div class="table-responsive">
                      <table class="table table-striped">
                          <thead>
                              <tr>
                                  <th>#</th>
                                  <th>Header</th>
                                  <th>Header</th>
                                  <th>Header</th>
                                  <th>Header</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>1,001</td>
                                  <td>Lorem</td>
                                  <td>ipsum</td>
                                  <td>dolor</td>
                                  <td>sit</td>
                              </tr>

                          </tbody>
                      </table>
                  </div>
                  </div>
              </div>
      
    </div>


<script>
    // Get the context of the canvas element we want to select
    var ctx = document.getElementById("myChart").getContext("2d");
    // var myNewChart = new Chart(ctx).PolarArea(data);

    var myLineChart = new Chart(ctx).Line(data, options);

</script>
